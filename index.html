<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="GRATEv2: computational tools for real-time analysis of high-throughput high-resolution TEM (HRTEM) images of conjugated polymers.">
  <meta name="keywords" content="GRATEv2, HRTEM, conjugated polymers, image analysis, high-throughput, computational tools, graph algorithms, Bayesian optimization, Real-time analytics">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GRATEv2: Computational Tools for Real-time Analysis of High-throughput High-resolution TEM (HRTEM) Images of Conjugated Polymers</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/bunny.png">

  <style>
    /* Simple carousel for figures */
    .figures-carousel {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
    }
    
    .figure-slide {
      display: none;
      text-align: center;
      padding: 20px;
    }
    
    .figure-slide.active {
      display: block;
    }
    
    .figure-slide img {
      width: 100%;
      max-width: 900px;
      height: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .figure-caption {
      margin-top: 15px;
      text-align: center;
      color: #555;
      line-height: 1.5;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      font-size: 0.9rem;
    }
    
    .carousel-nav {
      text-align: center;
      margin-top: 20px;
    }
    
    .carousel-nav button {
      background: #363636;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .carousel-nav button:hover {
      background: #4a4a4a;
    }
    
    .carousel-nav .dots {
      margin-top: 15px;
    }
    
    .dot {
      height: 12px;
      width: 12px;
      margin: 0 5px;
      background-color: #bbb;
      border-radius: 50%;
      display: inline-block;
      cursor: pointer;
    }
    
    .dot.active, .dot:hover {
      background-color: #363636;
    }
    
    /* Results carousel styles */
    .results-carousel {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
    }
    
    .result-slide {
      display: none;
      text-align: center;
      padding: 20px;
    }
    
    .result-slide.active {
      display: block;
    }
    
    .result-slide img {
      width: 100%;
      max-width: 900px;
      height: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .result-dot {
      height: 12px;
      width: 12px;
      margin: 0 5px;
      background-color: #bbb;
      border-radius: 50%;
      display: inline-block;
      cursor: pointer;
    }
    
    .result-dot.active, .result-dot:hover {
      background-color: #363636;
    }
    
    /* Responsive typography for mobile devices */
    @media screen and (max-width: 768px) {
      .title.is-2 {
        font-size: 1.75rem !important;
      }
      
      .title.is-3 {
        font-size: 1.5rem !important;
      }
      
      .title.is-4 {
        font-size: 1.25rem !important;
      }
      
      .subtitle.is-6 {
        font-size: 1rem !important;
      }
      
      .is-size-6 {
        font-size: 0.875rem !important;
      }
      
      .figure-caption {
        font-size: 0.8rem !important;
      }
      
      .content p {
        font-size: 0.9rem !important;
      }
      
      /* Adjust carousel button sizes for mobile */
      .carousel-nav button {
        padding: 8px 16px;
        font-size: 0.875rem;
      }
    }
    
    /* For very small screens (phones in portrait) */
    @media screen and (max-width: 480px) {
      .title.is-2 {
        font-size: 1.5rem !important;
      }
      
      .title.is-3 {
        font-size: 1.25rem !important;
      }
      
      .title.is-4 {
        font-size: 1.125rem !important;
      }
      
      .subtitle.is-6 {
        font-size: 0.875rem !important;
      }
      
      .is-size-6 {
        font-size: 0.8rem !important;
      }
      
      .figure-caption {
        font-size: 0.75rem !important;
      }
      
      .carousel-nav button {
        padding: 6px 12px;
        font-size: 0.8rem;
        margin: 0 3px;
      }
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  
  <script>
    // Simple carousel functionality
    let currentSlide = 0;
    let slides, dots;
    
    // Results carousel variables
    let currentResultSlide = 0;
    let resultSlides, resultDots;
    
    function initCarousel() {
      slides = document.querySelectorAll('.figure-slide');
      dots = document.querySelectorAll('.dot');
      showSlide(0);
      
      // Initialize results carousel
      resultSlides = document.querySelectorAll('.result-slide');
      resultDots = document.querySelectorAll('.result-dot');
      showResultSlide(0);
    }
    
    function showSlide(n) {
      if (!slides || !dots) return;
      
      // Hide all slides and deactivate all dots
      slides.forEach(slide => slide.classList.remove('active'));
      dots.forEach(dot => dot.classList.remove('active'));
      
      // Handle wrap around
      if (n >= slides.length) currentSlide = 0;
      if (n < 0) currentSlide = slides.length - 1;
      
      // Show current slide and activate current dot
      if (slides[currentSlide]) slides[currentSlide].classList.add('active');
      if (dots[currentSlide]) dots[currentSlide].classList.add('active');
    }
    
    function nextSlide() {
      currentSlide++;
      showSlide(currentSlide);
    }
    
    function prevSlide() {
      currentSlide--;
      showSlide(currentSlide);
    }
    
    function currentSlideSet(n) {
      currentSlide = n;
      showSlide(currentSlide);
    }
    
    // Results carousel functions
    function showResultSlide(n) {
      if (!resultSlides || !resultDots) return;
      
      // Hide all result slides and deactivate all result dots
      resultSlides.forEach(slide => slide.classList.remove('active'));
      resultDots.forEach(dot => dot.classList.remove('active'));
      
      // Handle wrap around
      if (n >= resultSlides.length) currentResultSlide = 0;
      if (n < 0) currentResultSlide = resultSlides.length - 1;
      
      // Show current result slide and activate current result dot
      if (resultSlides[currentResultSlide]) resultSlides[currentResultSlide].classList.add('active');
      if (resultDots[currentResultSlide]) resultDots[currentResultSlide].classList.add('active');
    }
    
    function nextResultSlide() {
      currentResultSlide++;
      showResultSlide(currentResultSlide);
    }
    
    function prevResultSlide() {
      currentResultSlide--;
      showResultSlide(currentResultSlide);
    }
    
    function currentResultSlideSet(n) {
      currentResultSlide = n;
      showResultSlide(currentResultSlide);
    }
    
    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initCarousel();
    });
  </script>
</head>
<body>

<!-- <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hypernerf.github.io">
            HyperNeRF
          </a>
          <a class="navbar-item" href="https://nerfies.github.io">
            Nerfies
          </a>
          <a class="navbar-item" href="https://latentfusion.github.io">
            LatentFusion
          </a>
          <a class="navbar-item" href="https://photoshape.github.io">
            PhotoShape
          </a>
        </div>
      </div>
    </div>

  </div>
</nav> -->


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-3 publication-title">GRATEv2: computational tools for real-time analysis of high-throughput high-resolution TEM (HRTEM) images of conjugated polymers</h1>
          <div class="is-size-6 publication-authors">
            <span class="author-block">
              <a href="https://www.linkedin.com/in/dhruv-dhiraj-gamdha/">Dhruv Gamdha</a>,
            </span>
            <span class="author-block">
              <a href="https://www.linkedin.com/in/ryan-fair-18aa97123/">Ryan Fair</a>,
            </span>
            <span class="author-block">
              <a href="https://www.linkedin.com/in/adarsh-krishnamurthy-90a7ab1/">Adarsh Krishnamurthy</a>,
            </span>
            <span class="author-block">
              <a href="https://www.che.psu.edu/research/research-labs/gomez-lab.aspx">Enrique D. Gomez</a>,
            </span>
            <span class="author-block">
              <a href="https://www.linkedin.com/in/baskar-ganapathysubramanian-5b22a51a6/">Baskar Ganapathysubramanian</a>
            </span>
          </div>

          <div class="is-size-6 publication-authors">
            <span class="author-block">Iowa State University, Penn State University</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://pubs.rsc.org/en/content/articlehtml/2025/ma/d5ma00409h"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/abs/2411.03474"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://github.com/baskargroup/GRATEv2"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
              <!-- Video Link. -->
              <!-- <span class="link-block">
                <a href="https://www.youtube.com/watch?v=MrKrnHhk8IA"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                </a>
              </span> -->
              <!-- Dataset Link. -->
              <!-- <span class="link-block">
                <a href="https://github.com/google/nerfies/releases/tag/0.1"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="far fa-images"></i>
                  </span>
                  <span>Data</span>
                  </a> -->
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <!--/ Graphical Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <figure class="image">
          <img src="./static/images/graphical_abstract.jpg" alt="Graphical Abstract">
        </figure>
        <h2 class="subtitle is-6">
          Graphical Abstract
        </h2>
      </div>
    </div>
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-4">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Automated analysis of high-resolution transmission electron microscopy (HRTEM) images is increasingly essential for advancing research in organic electronics, where precise characterization of lamellar, one-dimensional crystalline domains in conjugated polymers governs device performance. This paper introduces an open-source computational framework—GRATEv2 (GRaph-based Analysis of TEM, Version 2)—designed for near-real-time analysis of semi-crystalline, polymeric microstructures; its capabilities are illustrated on poly[N-9′-heptadecanyl-2,7-carbazole-alt-5,5-(4′,7′-di-2-thienyl-2′,1′,3′-benzothiadiazole)] (PCDTBT), a benchmark material in organic photovoltaics. GRATEv2 employs fast, automated image processing algorithms, enabling rapid extraction of structural features like d-spacing, orientation, and crystal shape metrics. Bayesian optimization rapidly identifies the parameters (that are traditionally user-defined) in the approach, reducing the need for manual parameter tuning and thus enhancing reproducibility and usability. Additionally, GRATEv2 is compatible with high-performance computing (HPC) environments, allowing for efficient, large-scale data processing at near real-time speeds. A unique feature of GRATEv2 is a Wasserstein distance-based stopping criterion, which optimizes data collection by determining when further sampling no longer adds statistically significant information. This capability optimizes the amount of time the TEM facility is used while ensuring data adequacy for in-depth analysis. Open-source and tested on a substantial PCDTBT dataset, this tool offers a powerful, robust, and accessible solution for high-throughput material characterization in organic electronics.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <h2 class="title is-4 has-text-centered">Method Figures</h2>
    
    <div class="figures-carousel">
      <div class="figure-slide">
        <img src="./static/images/fig1_overviewFramework.jpg" alt="Framework Overview">
        <p class="figure-caption">
          <strong>Figure 1:</strong> Schematic overview of the GRATEv2 computational framework. The overall computational framework of GRATEv2.
        </p>
      </div>

      <div class="figure-slide">
        <img src="./static/images/fig1_BOpt_details.jpg" alt="Bayesian Optimization Details">
        <p class="figure-caption">
          <strong>Figure 2:</strong> The detailed Bayesian Optimization (BO) component used for parameter tuning. The BO framework iteratively suggests parameter sets based on previous evaluations, optimizing the performance of the GRATEv2 image analysis pipeline. This process minimizes manual intervention and enhances the robustness of the analysis across diverse datasets.
        </p>
      </div>

      <div class="figure-slide">
        <img src="./static/images/fig3_IP_algo.jpg" alt="Algorithm Flowchart with Parameters">
        <p class="figure-caption">
          <strong>Figure 3:</strong> Algorithm flowchart with parameters. Blue boxes are the process parameters and brown boxes are the intermediate steps shown in the next figure.
        </p>
      </div>

      <div class="figure-slide">
        <img src="./static/images/fig4_intermImgs.jpg" alt="Intermediate and Final Outputs">
        <p class="figure-caption">
          <strong>Figure 4:</strong> Intermediate and final outputs of the pipeline (see the flowchart in previous figure). (a) Input: initial morphology. (b) Step 1 —Otsu thresholding (corresponds to orange callout 1 in previous figure). (c) Step 2 — skeletonization and branching (callout 2). (d) Step 3 —filtering short backbones and division into uniform bones (callout 3). (e) Step 4 — aspect-ratio filtering of ellipses (callout 4). (f) Step 5 — clustering of adjacent bones (callout 5). (g) Output: detected crystal region with boundary/principal-direction overlay.
        </p>
      </div>

      <div class="carousel-nav">
        <button onclick="prevSlide()">❮ Previous</button>
        <button onclick="nextSlide()">Next ❯</button>
        
        <div class="dots">
          <span class="dot" onclick="currentSlideSet(0)"></span>
          <span class="dot" onclick="currentSlideSet(1)"></span>
          <span class="dot" onclick="currentSlideSet(2)"></span>
          <span class="dot" onclick="currentSlideSet(3)"></span>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <h2 class="title is-4 has-text-centered">Result Figures</h2>
    
    <div class="results-carousel">
      <div class="result-slide">
        <img src="./static/images/fig9_results.jpg" alt="Comparison of Detection Methods">
        <p class="figure-caption">
          <strong>Figure 5:</strong> Comparison of Ground Truth, Manually selected parameter detection, and Bayesian-Optimized parameter detection across three different images. Each column represents a distinct detection method, illustrating how Bayesian optimization enhances segmentation accuracy by more closely matching the ground truth annotations compared to manual parameter tuning. The Bayesian optimization process was conducted over 200 iterations, achieving a minimum loss value of -0.7319 at the 151st evaluation. 
        </p>
      </div>

      <div class="result-slide">
        <img src="./static/images/fig12_featurePlots.jpg" alt="Individual Crystal Analysis">
        <p class="figure-caption">
          <strong>Figure 6:</strong> Individual crystal analysis. The properties of the individually detected crystals are plotted: (a) Crystal area, (b) FFT evaluated d-spacing, (c) Angle difference between crystal's pattern and its major axis, (d) Crystal aspect ratio, and (e) crystal axis lengths. (a) to (d) are histograms with kernel density estimate, and (e) is a scatter plot from analysis of the entire dataset. 
        </p>
      </div>

      <div class="result-slide">
        <img src="./static/images/fig14_dataSuff.jpg" alt="Data Sufficiency Analysis">
        <p class="figure-caption">
          <strong>Figure 7:</strong> Data sufficiency for the crystal-area feature. (a-d) Empirical area distributions (histogram + KDE) at cumulative sampling levels of 20% (168 crystals), 40% (336), 60% (504), and 100% (837). (e) Average first-order Wasserstein distance between successive cumulative batches of crystal areas versus crystal count; curves indicate batch sizes: 84 (blue), 42 (red), 21 (green), and 10 (orange). Lower values indicate distributional convergence. 
        </p>
      </div>

      <div class="carousel-nav">
        <button onclick="prevResultSlide()">❮ Previous</button>
        <button onclick="nextResultSlide()">Next ❯</button>
        
        <div class="dots">
          <span class="result-dot" onclick="currentResultSlideSet(0)"></span>
          <span class="result-dot" onclick="currentResultSlideSet(1)"></span>
          <span class="result-dot" onclick="currentResultSlideSet(2)"></span>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title is-4">BibTeX</h2>
    <pre><code>@article{gamdha2025gratev2,
  title={GRATEv2: computational tools for real-time analysis of high-throughput high-resolution TEM (HRTEM) images of conjugated polymers},
  author={Gamdha, Dhruv and Fair, Ryan and Krishnamurthy, Adarsh and Gomez, Enrique D and Ganapathysubramanian, Baskar},
  journal={Materials Advances},
  volume={6},
  number={19},
  pages={6820--6842},
  year={2025},
  publisher={Royal Society of Chemistry}
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="./static/videos/nerfies_paper.pdf">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/keunhong" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow the <a
              href="https://github.com/nerfies/nerfies.github.io">source code</a> of this website,
            we just ask that you link back to this page in the footer.
            Please remember to remove the analytics code included in the header of the website which
            you do not want on your website.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
